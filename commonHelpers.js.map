{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '43875376-ffcf8bec5b4985f5e1efc350d';\n\nexport function pictureRequest(request) {\n  return fetch(\n    `https://pixabay.com/api/?key=${KEY}&q=${request}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response;\n  });\n}\n","export function render(arreyFoto) {\n  const listFoto = document.querySelector('.list-foto');\n\n  const gallery = arreyFoto.reduce((acum, item) => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n    return (\n      acum +\n      `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=${largeImageURL} >\n        <img\n          class=\"gallery-image\"\n          src=${webformatURL}\n         data-source=${largeImageURL}\n          alt=${tags}\n        />\n      </a>\n      <div>\n      <p>Likes<br><span>${likes}</span></p>\n      <p>Views<br><span>${views}</span></p>\n      <p>Coments<br><span>${comments}</span></p>\n      <p>Downloads<br><span>${downloads}</span></p>\n      <div/>\n    </li>`\n    );\n  }, '');\n  listFoto.insertAdjacentHTML('afterbegin', gallery);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { pictureRequest } from './js/pixabay-api.js';\nimport { render } from './js/render-functions.js';\n\nlet gallery = new SimpleLightbox('.list-foto a');\nconst inputSearch = document.querySelector('.input-search');\nconst loader = document.querySelector('.loader');\n\ndocument.querySelector('.input').addEventListener('submit', submitInput);\n\nfunction submitInput(event) {\n  event.preventDefault();\n  const listFoto = document.querySelector('.list-foto');\n  listFoto.innerHTML = '<ul class=\"list-foto\">';\n  const queryWord = inputSearch.value.trim();\n  if (queryWord.length < 3) {\n    return iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n\n  loader.classList.remove('hiden');\n  pictureRequest(queryWord)\n    .then(response => {\n      if (response.status === 200) {\n        loader.classList.add('hiden');\n      }\n      return response.json();\n    })\n\n    .then(images => {\n      const arr = images.hits;\n\n      if (arr.length > 0) {\n        render(arr);\n        gallery.refresh();\n      } else {\n        iziToast.error({\n          position: 'topRight',\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n\n    .catch(error => {\n      console.log(error);\n      throw error;\n    });\n}\n"],"names":["KEY","pictureRequest","request","response","render","arreyFoto","listFoto","gallery","acum","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","inputSearch","loader","submitInput","event","queryWord","iziToast","images","arr","error"],"mappings":"6vBAAA,MAAMA,EAAM,qCAEL,SAASC,EAAeC,EAAS,CACtC,OAAO,MACL,gCAAgCF,CAAG,MAAME,CAAO,0DACpD,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,CACX,CAAG,CACH,CCXO,SAASC,EAAOC,EAAW,CAChC,MAAMC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAUF,EAAU,OAAO,CAACG,EAAMC,IAAS,CAC/C,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,OACED,EACA;AAAA,qCAC+BG,CAAa;AAAA;AAAA;AAAA,gBAGlCD,CAAY;AAAA,uBACLC,CAAa;AAAA,gBACpBC,CAAI;AAAA;AAAA;AAAA;AAAA,0BAIMC,CAAK;AAAA,0BACLC,CAAK;AAAA,4BACHC,CAAQ;AAAA,8BACNC,CAAS;AAAA;AAAA,UAIpC,EAAE,EAAE,EACLV,EAAS,mBAAmB,aAAcC,CAAO,CACnD,CC3BA,IAAIA,EAAU,IAAIU,EAAe,cAAc,EAC/C,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAAS,cAAc,QAAQ,EAAE,iBAAiB,SAAUC,CAAW,EAEvE,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMf,EAAW,SAAS,cAAc,YAAY,EACpDA,EAAS,UAAY,yBACrB,MAAMgB,EAAYJ,EAAY,MAAM,KAAI,EACxC,GAAII,EAAU,OAAS,EACrB,OAAOC,EAAS,MAAM,CACpB,SAAU,WACV,MAAO,QACP,QACE,0EACR,CAAK,EAGHJ,EAAO,UAAU,OAAO,OAAO,EAC/BlB,EAAeqB,CAAS,EACrB,KAAKnB,IACAA,EAAS,SAAW,KACtBgB,EAAO,UAAU,IAAI,OAAO,EAEvBhB,EAAS,OACjB,EAEA,KAAKqB,GAAU,CACd,MAAMC,EAAMD,EAAO,KAEfC,EAAI,OAAS,GACfrB,EAAOqB,CAAG,EACVlB,EAAQ,QAAO,GAEfgB,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACZ,CAAS,CAET,CAAK,EAEA,MAAMG,GAAS,CACd,cAAQ,IAAIA,CAAK,EACXA,CACZ,CAAK,CACL"}